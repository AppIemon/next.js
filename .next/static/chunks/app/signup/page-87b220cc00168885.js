(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[879],{9718:(e,a,s)=>{Promise.resolve().then(s.bind(s,2035))},473:(e,a,s)=>{"use strict";s.d(a,{default:()=>u});var t=s(5155),l=s(2115),n=s(8173),r=s.n(n),i=s(6046);let u=()=>{let[e,a]=(0,l.useState)(null),[s,n]=(0,l.useState)(!1),u=(0,i.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("user");e&&a(JSON.parse(e))},[]),(0,t.jsxs)("nav",{className:"navbar",children:[(0,t.jsxs)("div",{className:"nav-left",children:[(0,t.jsx)(r(),{href:"/",className:"nav-link",children:"홈"}),(0,t.jsx)(r(),{href:"/list",className:"nav-link",children:"게시판"})]}),(0,t.jsx)("div",{className:"nav-right",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r(),{href:"/write",className:"nav-link write-btn",children:"글쓰기"}),(0,t.jsx)(r(),{href:"/profile",className:"nav-link",children:"프로필"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),a(null),u.push("/login")},className:"nav-link",children:"로그아웃"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(r(),{href:"/login",className:"nav-link",children:"로그인"}),(0,t.jsx)(r(),{href:"/register",className:"nav-link",children:"회원가입"})]})})]})}},2035:(e,a,s)=>{"use strict";s.r(a),s.d(a,{default:()=>i});var t=s(5155),l=s(2115),n=s(6046),r=s(473);function i(){let[e,a]=(0,l.useState)(""),[s,i]=(0,l.useState)(""),[u,c]=(0,l.useState)(""),h=(0,n.useRouter)(),o=async a=>{a.preventDefault();try{let a=await fetch("/api/auth/signup",{method:"POST",body:JSON.stringify({username:e,password:s,nickname:u}),headers:{"Content-Type":"application/json"}});if(a.ok)alert("회원가입 성공!"),h.push("/login");else{let e=await a.json();alert(e.message)}}catch(e){alert("회원가입 중 오류가 발생했습니다")}};return(0,t.jsxs)("div",{children:[(0,t.jsx)(r.default,{}),(0,t.jsxs)("form",{onSubmit:o,className:"auth-form",children:[(0,t.jsx)("input",{type:"text",placeholder:"아이디",value:e,onChange:e=>a(e.target.value)}),(0,t.jsx)("input",{type:"password",placeholder:"비밀번호",value:s,onChange:e=>i(e.target.value)}),(0,t.jsx)("input",{type:"text",placeholder:"닉네임",value:u,onChange:e=>c(e.target.value)}),(0,t.jsx)("button",{type:"submit",children:"회원가입"})]})]})}}},e=>{var a=a=>e(e.s=a);e.O(0,[1028,8441,1517,7358],()=>a(9718)),_N_E=e.O()}]);