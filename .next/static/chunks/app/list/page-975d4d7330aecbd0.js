(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[5631],{4550:(e,s,a)=>{Promise.resolve().then(a.bind(a,7394))},7394:(e,s,a)=>{"use strict";a.r(s),a.d(s,{default:()=>c});var t=a(5155),l=a(2115),i=a(6046);function n(e){let{item:s}=e,a=(0,i.useRouter)();return(0,t.jsxs)("div",{className:"list-item",children:[(0,t.jsxs)("div",{className:"list-item-header",children:[(0,t.jsx)("h4",{children:s.title}),(0,t.jsxs)("div",{className:"list-item-meta",children:[(0,t.jsxs)("span",{className:"author",children:["✍️ ",s.author||"익명"]}),(0,t.jsx)("span",{className:"date",children:s.createdAt?new Date(s.createdAt).toLocaleDateString():""})]})]}),(0,t.jsx)("p",{children:s.content}),(0,t.jsxs)("div",{className:"item-stats",children:[(0,t.jsxs)("span",{children:["\uD83D\uDC41️ ",s.views||0]}),(0,t.jsxs)("span",{children:["❤️ ",s.likes||0]})]}),s.image&&(0,t.jsx)("img",{src:"data:image/jpeg;base64,".concat(s.image),alt:"게시글 이미지",style:{maxWidth:"200px"}}),(0,t.jsx)("button",{onClick:()=>a.push("list/detail/".concat(s._id)),className:"detail-button",children:"자세히 보기"})]})}a(9324);var r=a(473);function c(){let[e,s]=(0,l.useState)([]),[a,c]=(0,l.useState)(!0),d=(0,i.useRouter)();(0,l.useEffect)(()=>{h()},[]);let h=async()=>{try{if(!localStorage.getItem("user")){d.push("/login");return}let e=await fetch("/api/posts",{method:"GET",headers:{"Cache-Control":"no-cache"}});if(!e.ok)throw Error("Failed to fetch posts");let a=await e.json();s(a.posts||[])}catch(e){console.error("데이터 로딩 오류:",e)}finally{c(!1)}};return a?(0,t.jsx)("div",{className:"loading",children:"로딩중..."}):(0,t.jsxs)("div",{children:[(0,t.jsx)(r.default,{}),(0,t.jsx)("div",{className:"list-bg",children:e.map(e=>(0,t.jsx)(n,{item:e},e._id))})]})}},473:(e,s,a)=>{"use strict";a.d(s,{default:()=>c});var t=a(5155),l=a(2115),i=a(8173),n=a.n(i),r=a(6046);let c=()=>{let[e,s]=(0,l.useState)(null),[a,i]=(0,l.useState)(!1),c=(0,r.useRouter)();return(0,l.useEffect)(()=>{let e=localStorage.getItem("user");e&&s(JSON.parse(e))},[]),(0,t.jsxs)("nav",{className:"navbar",children:[(0,t.jsxs)("div",{className:"nav-left",children:[(0,t.jsx)(n(),{href:"/",className:"nav-link",children:"홈"}),(0,t.jsx)(n(),{href:"/list",className:"nav-link",children:"게시판"})]}),(0,t.jsx)("div",{className:"nav-right",children:e?(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{href:"/write",className:"nav-link write-btn",children:"글쓰기"}),(0,t.jsx)(n(),{href:"/profile",className:"nav-link",children:"프로필"}),(0,t.jsx)("button",{onClick:()=>{localStorage.removeItem("user"),s(null),c.push("/login")},className:"nav-link",children:"로그아웃"})]}):(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n(),{href:"/login",className:"nav-link",children:"로그인"}),(0,t.jsx)(n(),{href:"/register",className:"nav-link",children:"회원가입"})]})})]})}},9324:()=>{}},e=>{var s=s=>e(e.s=s);e.O(0,[2533,1028,8441,1517,7358],()=>s(4550)),_N_E=e.O()}]);